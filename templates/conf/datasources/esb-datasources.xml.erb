<datasources-configuration xmlns:svns="http://org.wso2.securevault/configuration">

  <providers>
    <provider>org.wso2.carbon.ndatasource.rdbms.RDBMSDataSourceReader</provider>
  </providers>

  <datasources>
    <datasource>
      <name>WSO2_ESB_CONFIG_DB</name>
      <description>The datasource used for ESB_CONFIG MySQL database</description>
      <jndiConfig>
        <name>jdbc/<%= @config_db -%></name>
      </jndiConfig>
      <definition type="RDBMS">
        <configuration>
          <%- database = @configdb_datasource -%>
          <url>jdbc:mysql://<%= database[0] %>:3306/<%= @config_db %>?autoReconnect=true</url>
          <username><%= database[2] %></username>
          <password><%= database[3] %></password>
          <driverClassName>com.mysql.jdbc.Driver</driverClassName>
          <maxActive>150</maxActive>
          <maxWait>60000</maxWait>
          <minIdle>50</minIdle>
          <testOnBorrow>true</testOnBorrow>
          <validationQuery>SELECT 1</validationQuery>
          <validationInterval>30000</validationInterval>
        </configuration>
      </definition>
    </datasource>

  </datasources>

</datasources-configuration>

